{
  "description": "Configurable Conv2D encoder variants for stroke patch embedding",
  "version": "1.0",
  
  "encoder_variants": {
    "stacked_3x3_s2": {
      "name": "Stacked 3x3 Stride 2 (Recommended)",
      "description": "Multiple 3x3 convolutions with stride 2, best for fine details",
      "type": "stacked",
      "layers": [
        {"kernel": 3, "stride": 2, "channels": 32, "activation": "gelu", "norm": "batch"},
        {"kernel": 3, "stride": 2, "channels": 64, "activation": "gelu", "norm": "batch"},
        {"kernel": 3, "stride": 2, "channels": 128, "activation": "gelu", "norm": "batch"}
      ],
      "output_pool": "flatten",
      "input_size": 16,
      "output_dim": 512
    },
    
    "stacked_2x2_s2": {
      "name": "Stacked 2x2 Stride 2 (Compact)",
      "description": "Ultra-compact with minimal parameters",
      "type": "stacked",
      "layers": [
        {"kernel": 2, "stride": 2, "channels": 32, "activation": "relu", "norm": "batch"},
        {"kernel": 2, "stride": 2, "channels": 64, "activation": "relu", "norm": "batch"},
        {"kernel": 2, "stride": 2, "channels": 128, "activation": "relu", "norm": "batch"}
      ],
      "output_pool": "flatten",
      "input_size": 16,
      "output_dim": 512
    },
    
    "single_16x16": {
      "name": "Single 16x16 Projection (ViT-style)",
      "description": "Standard ViT patchify, single large kernel",
      "type": "single",
      "layers": [
        {"kernel": 16, "stride": 16, "channels": 256, "activation": "none", "norm": "layer"}
      ],
      "output_pool": "flatten",
      "input_size": 16,
      "output_dim": 256
    },
    
    "hybrid_7x7_3x3": {
      "name": "Hybrid 7x7 + 3x3 (ConvNeXT-style)",
      "description": "Large initial kernel for context, small for detail",
      "type": "stacked",
      "layers": [
        {"kernel": 7, "stride": 2, "channels": 48, "activation": "gelu", "norm": "layer"},
        {"kernel": 3, "stride": 2, "channels": 96, "activation": "gelu", "norm": "layer"},
        {"kernel": 3, "stride": 2, "channels": 192, "activation": "gelu", "norm": "layer"}
      ],
      "output_pool": "adaptive_avg",
      "input_size": 16,
      "output_dim": 192
    },
    
    "residual_3x3": {
      "name": "Residual 3x3 Blocks",
      "description": "ResNet-style with skip connections",
      "type": "residual",
      "layers": [
        {"kernel": 3, "stride": 2, "channels": 64, "activation": "gelu", "norm": "batch"},
        {"kernel": 3, "stride": 1, "channels": 64, "activation": "gelu", "norm": "batch", "residual": true},
        {"kernel": 3, "stride": 2, "channels": 128, "activation": "gelu", "norm": "batch"},
        {"kernel": 3, "stride": 1, "channels": 128, "activation": "gelu", "norm": "batch", "residual": true}
      ],
      "output_pool": "adaptive_avg",
      "input_size": 16,
      "output_dim": 128
    },
    
    "depthwise_separable": {
      "name": "Depthwise Separable (MobileNet-style)",
      "description": "Efficient depthwise + pointwise convolutions",
      "type": "depthwise_separable",
      "layers": [
        {"kernel": 3, "stride": 2, "channels": 32, "activation": "relu6", "norm": "batch"},
        {"kernel": 3, "stride": 2, "channels": 64, "activation": "relu6", "norm": "batch"},
        {"kernel": 3, "stride": 2, "channels": 128, "activation": "relu6", "norm": "batch"}
      ],
      "output_pool": "adaptive_avg",
      "input_size": 16,
      "output_dim": 128
    },
    
    "overlapping_4x4_s2": {
      "name": "Overlapping 4x4 Stride 2",
      "description": "50% overlap between patches for smoother features",
      "type": "stacked",
      "layers": [
        {"kernel": 4, "stride": 2, "channels": 48, "activation": "gelu", "norm": "batch"},
        {"kernel": 4, "stride": 2, "channels": 96, "activation": "gelu", "norm": "batch"},
        {"kernel": 3, "stride": 2, "channels": 192, "activation": "gelu", "norm": "batch"}
      ],
      "output_pool": "adaptive_avg",
      "input_size": 16,
      "output_dim": 192
    }
  },
  
  "default_variant": "stacked_3x3_s2",
  
  "activation_options": ["relu", "gelu", "silu", "relu6", "none"],
  "norm_options": ["batch", "layer", "instance", "group", "none"],
  "pool_options": ["flatten", "adaptive_avg", "adaptive_max", "none"]
}

